<!DOCTYPE html>
<html lang="en" xmlns:v-on="http://www.w3.org/1999/xhtml" xmlns:v-bind="http://www.w3.org/1999/xhtml">
<head>
    <title>Matterbridge Service configuration</title>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="shortcut icon" type="image/png" href='images/favicon.png'>
    <link rel="stylesheet" href="css/spectre.min.css">
    <link rel="stylesheet" href="css/spectre-exp.min.css">
    <link rel="stylesheet" href="css/font-awesome.min.css">
    <link rel="stylesheet" href="css/main.css">
    <script type="text/javascript" src="js/jquery-2.2.4.min.js" crossorigin="anonymous"></script>
    <script type="text/javascript" src="js/vue.min.js"></script>
    <script type="text/javascript" src="js/core.js"></script>

    <script id="home-template" type="text/x-template">

        <div class="container">
            <div class="columns">
                <div class="column col-12">
                    <div class="tile text-center">
                        <div class="tile-icon">
                            <div class="example-tile-icon">
                                <img class="icon centered" src="images/9GAG.svg">
                            </div>
                        </div>
                        <div class="tile-content">
                            <p class="tile-title">9Gag gifs</p>
                            <p class="tile-subtitle">Shows the actual 9gag gif count</p>
                        </div>
                        <div class="tile-action">
                            <h2 class="text-ellipsis" :class="showBold ? 'text-bold' : ''">{{nineGagCount}}</h2>
                        </div>
                    </div>
                </div>
                <div class="column col-12">
                    <div class="tile text-center">
                        <div class="tile-icon">
                            <div class="example-tile-icon">
                                <img class="icon centered coding-love-image" src="images/thecodinglove.png">
                            </div>
                        </div>
                        <div class="tile-content">
                            <p class="tile-title">The coding love gifs</p>
                            <p class="tile-subtitle">Shows the actual coding love gif count</p>
                        </div>
                        <div class="tile-action">
                            <h2 class="text-ellipsis">{{codingLoveCount}}</h2>
                        </div>
                    </div>
                </div>
                <div class="column col-4 col-sm-12">
                    <div class="tile text-center">
                        <div class="tile-icon">
                            <div class="example-tile-icon">
                                <span class="fa fa-rss fa-4x"></span>
                            </div>
                        </div>
                        <div class="tile-content">
                            <p class="tile-title">Rss configurations</p>
                            <p class="tile-subtitle">Shows the actual rss configuration count</p>
                        </div>
                        <div class="tile-action">
                            <h2 class="text-ellipsis">{{rssCount}}</h2>
                        </div>
                    </div>
                </div>
                <div class="column col-4 col-sm-12">
                    <div class="tile text-center">
                        <div class="tile-icon">
                            <div class="example-tile-icon">
                                <span class="fa fa-android fa-4x"></span>
                            </div>
                        </div>
                        <div class="tile-content">
                            <p class="tile-title">Bot count</p>
                            <p class="tile-subtitle">Shows the actual configured bot count</p>
                        </div>
                        <div class="tile-action">
                            <h2 class="text-ellipsis">{{botCount}}</h2>
                        </div>
                    </div>
                </div>
                <div class="column col-4 col-sm-12">
                    <div class="tile text-center">
                        <div class="tile-icon">
                            <div class="example-tile-icon">
                                <span class="fa fa-table fa-4x"></span>
                            </div>
                        </div>
                        <div class="tile-content">
                            <p class="tile-title">Active categories</p>
                            <p class="tile-subtitle">Shows the gif category count</p>
                        </div>
                        <div class="tile-action">
                            <h2 class="text-ellipsis">{{categoryCount}}</h2>
                        </div>
                    </div>
                </div>
            </div>
        </div>


    </script>

    <script id="ninegag-config-template" type="text/x-template">
        <span>
            <h2>How to configure nine gag integration?</h2>
            <p>You need an <strong>slash command</strong> configuration</p>

            <span>Insert this <strong>url</strong> in the url option:</span>


            <code><span class="atv">{{location}}</span></code>


            <p>After a successful configuration the service is looking for a stored 9Gag gif</p>

            <!-- divider element -->
            <div class="divider"></div>

            <div class="columns" v-if="lastGifs.length">

                <h1 class="column col-12 text-center">The last 100 9GAG gifs</h1>

                <div v-for="gif in lastGifs" v-bind:key="gif.id" class="column col-4 col-sm-12">

                    <div class="card">
                        <div class="card-header">
                          <div class="card-title">{{gif.name}}</div>
                          <div class="card-subtitle">{{gif.createdAt | toDate}}</div>
                        </div>
                        <div class="card-body">
                          {{gif.gifUrl}}
                        </div>
                        <div class="card-image">
                          <img class="img-responsive" :src="gif.gifUrl">
                        </div>
                    </div>

                </div>

            </div>
            <div v-else>
                <h3>Oops, there are no gifs available yet...</h3>
                <img src="images/9GAG.svg">
            </div>

        </span>
    </script>

</head>

<body>

<div class="container grid-960" id="contentVue">

    <header class="navbar">
        <section class="navbar-primary">
            <a href="#" v-on:click="switchNavigation(MB.core.navs.home)"
               class="navbar-brand mr-10" :class="isHome() ? 'active' : ''">Matterbridge Service</a>
        </section>
        <section class="navbar-section">
            <a href="#" v-on:click="switchNavigation(MB.core.navs.nineGag)"
               class="btn btn-link" :class="isNineGag() ? 'active' : ''">9Gag</a>
            <a href="#" v-on:click="switchNavigation(MB.core.navs.codingLove)"
               class="btn btn-link" :class="isCodingLove() ? 'active' : ''">Coding Love</a>
        </section>
        <section class="navbar-section">
            <a href="#" v-on:click="switchNavigation(MB.core.navs.rss)"
               class="btn btn-link" :class="isRss() ? 'active' : ''">RSS config</a>
            <a href="#" v-on:click="switchNavigation(MB.core.navs.bot)"
               class="btn btn-link" :class="isBot() ? 'active' : ''">Bots</a>
        </section>
    </header>

    <landing v-show="isHome()" v-bind:url="url"></landing>
    <ninegag-config v-if="isNineGag()" v-bind:url="url"></ninegag-config>
</div>

</body>

<footer class="panel-footer">
    <div class="container grid-960">
        <hr>
        <div class="pull-right">
            <h3>Matterbridge Service &hearts;<small>(a Mattermost service)</small></h3>
        </div>
    </div>
</footer>

</html>

<script type="text/javascript">
    $(document).ajaxError(MB.errorHandler);
    $(function() {
        MB.core.init();
    });
</script>
